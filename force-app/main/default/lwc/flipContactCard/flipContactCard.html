<template>
<div style="background-color: white;" class="slds-p-around_medium">
    <lightning-tile label="Contact Directory" type="media">
    <lightning-icon slot="media" icon-name="standard:groups"></lightning-icon>
        <p class="slds-truncate" title="contacts">Contact related to Selected Accounts</p>
    </lightning-tile>
    <div class="slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none"> </div>
                
    <template if:true={contactData.data}>     
        <div class="slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none">
          <lightning-layout multiple-rows>

            <template for:each={contactData.data} for:item="item" for:index="index">

               <lightning-layout-item key={item.Id} size="12" small-device-size="6" medium-device-size="4" large-device-size="3" padding="around-small">

                  <div class="flip-card" style="background-color: transparent; width: 200px;height: 200px;perspective: 1000px;">

                    <div class="flip-card-inner"  data-row-index={item.Id} data-id={item.Id} onmouseover={addClass} onmouseout={removeClass} 
                    style="position: relative; width: 100%; height: 100%; text-align: left; transition: transform 0.6s; transform-style: preserve-3d; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);">
                     
                    <div class="flip-card-front" style="position: absolute; width: 100%; height: 100%;  -webkit-backface-visibility: hidden; backface-visibility: hidden;background-color: #bbb;color: black;">

                            <img src="https://www.w3schools.com/w3css/img_avatar3.png" alt="Avatar" style="width:200px;height:200px;">

                             <div class="slds-text-color_destructive">{item.Name}</div>
                    </div>
                    <div class="flip-card-back" style="position: absolute;width: 100%;height: 100%;-webkit-backface-visibility: hidden;backface-visibility: hidden;background-color: #2980b9;color: white;transform: rotateY(180deg);">
                       <!--p class="slds-p-around_x-small"><text class="slds-text-title_caps" style="text-align: center;"></text>{item.Name}</p-->
                       <p class="slds-p-around_x-small">
                       <a href="#" data-target-id={item.Id} onclick={handleClick}>
                        <span class="slds-truncate"  data-target-id={item.Id} style="color:white">
                            {item.Name}
                        </span>
                    </a>
                </p>
                       <p class="slds-p-around_x-small">Title: {item.Title}</p>
                       <p class="slds-p-around_x-small">Email: {item.Email}</p>
                       <p class="slds-p-around_x-small">Department: {item.Department}</p>
                    </div>
                    </div>
                    </div> 
                </lightning-layout-item>
            </template>
          </lightning-layout>
        </div>
    </template>
    </div>
</template>
